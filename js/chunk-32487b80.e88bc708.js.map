{"version":3,"sources":["webpack:///./src/views/Attractions.vue","webpack:///./src/views/Attractions.vue?4c77","webpack:///./src/views/Attractions.vue?ef36"],"names":["class","src","alt","aria-hidden","href","active","isLoading","current","city","filterData","currentPage","item","key","ID","JSON","stringify","Picture","PictureUrl1","Name","OpenTime","Address","Phone","type","openModal","aria-label","length","ref","data","tempData","name","attractions","currentCategory","category","cityEng","components","Modal","methods","getData","url","dataName","this","axios","get","headers","then","response","$refs","showModal","computed","newData","forEach","i","push","page","parseInt","mounted","emitter","on","__exports__","render"],"mappings":"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","file":"js/chunk-32487b80.e88bc708.js","sourcesContent":["<template>\n  <Loading :active=\"isLoading\" />\n  <div class=\"container\">\n    <div class=\"title\">\n      <h2 v-if=\"current.city === ''\">熱門景點</h2>\n      <h2 v-else>{{ current.city }} 景點</h2>\n      <p>\n        台灣的各個美景，都美不勝收。<br />\n        等你一同來發現這座寶島的奧妙！\n      </p>\n    </div>\n    <div class=\"row row-cols-2 row-cols-md-4 g-4\">\n      <div class=\"col\" v-for=\"item in filterData[currentPage]\" :key=\"item.ID\">\n        <div class=\"card h-100\">\n          <img\n            :src=\"item.Picture.PictureUrl1\"\n            v-if=\"!JSON.stringify(item.Picture) === '{}' || 'PictureUrl1' in item.Picture\"\n            class=\"card-img-top\"\n            alt=\"attractions-img\"\n          />\n          <img src=\"../assets/img/test.png\" class=\"card-img-top\" v-else alt=\"attractions-img\" />\n          <div class=\"card-body\">\n            <h3>{{ item.Name }}</h3>\n            <span v-if=\"'OpenTime' in item\"\n              ><i class=\"far fa-clock\"></i>開放時間 : {{ item.OpenTime }}</span\n            >\n            <p v-if=\"'Address' in item\"><i class=\"fas fa-map-marker-alt\"></i>{{ item.Address }}</p>\n            <p v-if=\"'Phone' in item\">\n              <i class=\"fas fa-phone\"></i>{{ item.Phone }}\n            </p>\n          </div>\n          <div class=\"card-footer\">\n            <div class=\"card-btn\"><button type=\"button\" @click=\"openModal(item)\">了解更多</button></div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- 分頁 -->\n    <nav class=\"d-flex justify-content-center\">\n      <ul class=\"pagination\">\n        <li class=\"page-item\" :class=\"{ disabled: currentPage === 0 }\">\n          <a class=\"page-link\" href=\"#\" aria-label=\"Previous\" @click.prevent=\"currentPage--\">\n            <span aria-hidden=\"true\">&laquo;</span>\n          </a>\n        </li>\n        <li class=\"page-item disabled\">\n          <a class=\"page-link\" href=\"#\">{{ currentPage + 1 }} / {{ filterData.length }}</a>\n        </li>\n        <li class=\"page-item\" :class=\"{ disabled: currentPage === filterData.length - 1 }\">\n          <a class=\"page-link\" href=\"#\" aria-label=\"Next\" @click.prevent=\"currentPage++\">\n            <span aria-hidden=\"true\">&raquo;</span>\n          </a>\n        </li>\n      </ul>\n    </nav>\n  </div>\n  <Modal ref=\"Modal\" :data=\"tempData\" />\n</template>\n\n<script>\nimport getAuthorizationHeader from '../tools/AuthorizationHeader';\nimport Modal from '../components/Modal.vue';\n\nexport default {\n  name: 'Attractions',\n  data() {\n    return {\n      attractions: [],\n      currentCategory: '',\n      current: {\n        category: '',\n        city: '',\n        cityEng: '',\n      },\n      currentPage: 0,\n      isLoading: false,\n      tempData: {},\n    };\n  },\n  components: {\n    Modal,\n  },\n  methods: {\n    getData(url, dataName) {\n      this.isLoading = true;\n      this.axios\n        .get(url, {\n          headers: getAuthorizationHeader(),\n        })\n        .then((response) => {\n          this[dataName] = response.data;\n          this.isLoading = false;\n        });\n    },\n    openModal(item) {\n      this.tempData = { ...item };\n      this.$refs.Modal.showModal();\n    },\n  },\n  computed: {\n    filterData() {\n      const newData = [];\n      this.attractions.forEach((item, i) => {\n        if (i % 16 === 0) {\n          newData.push([]);\n        }\n        const page = parseInt(i / 16, 0);\n        newData[page].push(item);\n      });\n      return newData;\n    },\n  },\n  mounted() {\n    this.getData(\n      'https://ptx.transportdata.tw/MOTC/v2/Tourism/ScenicSpot?$top=3000&$format=JSON',\n      'attractions',\n    );\n    this.emitter.on('sendData', (data) => {\n      this.current = data;\n    });\n    this.emitter.on('sendUrl', (data) => {\n      this.getData(data, 'attractions');\n    });\n  },\n};\n</script>\n\n<style scoped>\n.container {\n  max-width: 1440px;\n}\n.title {\n  margin-top: 80px;\n  margin-left: 25px;\n}\n.title h2 {\n  font-weight: bold;\n  font-size: 30px;\n  color: #08a6bb;\n}\n.title p {\n  font-weight: bold;\n  font-size: 16px;\n  color: #aeaeae;\n}\n.pagination {\n  margin-top: 100px;\n  margin-bottom: 50px;\n}\n.pagination a {\n  color: #08a6bb;\n}\n.pagination a:hover {\n  color: #ffffff;\n  background-color: #08a6bb;\n}\n</style>\n","import { render } from \"./Attractions.vue?vue&type=template&id=f665676c&scoped=true\"\nimport script from \"./Attractions.vue?vue&type=script&lang=js\"\nexport * from \"./Attractions.vue?vue&type=script&lang=js\"\n\nimport \"./Attractions.vue?vue&type=style&index=0&id=f665676c&scoped=true&lang=css\"\n\nimport exportComponent from \"Z:\\\\前端\\\\THE F2E\\\\Travel Taiwan\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-f665676c\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Attractions.vue?vue&type=style&index=0&id=f665676c&scoped=true&lang=css\""],"sourceRoot":""}